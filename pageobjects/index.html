<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="/images/cjs-favicon.png">

	<title>Page Objects - CodeceptJS</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">

        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../css/extra.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-30075781-3', 'auto');
            ga('send', 'pageview');
        </script>
        
        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900" rel="stylesheet" />
<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700' rel='stylesheet' type='text/css'>
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">

        <div class="right hidden-sm hidden-xs hidden-md" style="margin-left: 10px; margin-top: 10px; margin-right: 5px; float:right; text-align: right">
            <a href="https://twitter.com/CodeceptJS" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @CodeceptJS</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </div>

    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">CodeceptJS</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                
                <li >
                    <a href="..">Index</a>
                </li>
                
            
            
            
                
                <li >
                    <a href="../quickstart/">Quickstart</a>
                </li>
                
            
            
            
                
                <li >
                    <a href="../video/">Video</a>
                </li>
                
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Guides <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../basics/">Basics</a>
                        </li>
                    
                        <li >
                            <a href="../acceptance/">Acceptance Testing</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Page Objects</a>
                        </li>
                    
                        <li >
                            <a href="../puppeteer/">Puppeteer Testing</a>
                        </li>
                    
                        <li >
                            <a href="../nightmare/">Nightmare Testing</a>
                        </li>
                    
                        <li >
                            <a href="../angular/">Protractor Testing</a>
                        </li>
                    
                        <li >
                            <a href="../mobile/">Mobile Testing</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/">Helpers</a>
                        </li>
                    
                        <li >
                            <a href="../data/">Data Management</a>
                        </li>
                    
                        <li >
                            <a href="../bdd/">Behavior Driven Development</a>
                        </li>
                    
                        <li >
                            <a href="../advanced/">Advanced Usage</a>
                        </li>
                    
                        <li >
                            <a href="../hooks/">Plugins & Hooks</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Helpers <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../helpers/WebDriverIO/">WebDriverIO</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/Protractor/">Protractor</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/Puppeteer/">Puppeteer</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/Nightmare/">Nightmare</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/Appium/">Appium</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/REST/">REST</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/ApiDataFactory/">ApiDataFactory</a>
                        </li>
                    
                        <li >
                            <a href="../helpers/FileSystem/">FileSystem</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../installation/">Installation</a>
                        </li>
                    
                        <li >
                            <a href="../commands/">Commands</a>
                        </li>
                    
                        <li >
                            <a href="../locators/">Locators</a>
                        </li>
                    
                        <li >
                            <a href="../reports/">Reports</a>
                        </li>
                    
                        <li >
                            <a href="../configuration/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="../plugins/">Plugins</a>
                        </li>
                    
                        <li >
                            <a href="../translation/">Translation</a>
                        </li>
                    
                        <li >
                            <a href="../docker/">Docker</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                
                <li >
                    <a href="../changelog/">Releases</a>
                </li>
                
            
            

            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Support  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LTNiMTE5YzNlMjQyNWYwZjAzODE3ZTI1MmVkYjY0YTYyNDZmMWJjM2VlODg3NTQzYzM2OGE5ZmIwODFjODk1MzI">Slack</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/codeceptjs?mixed=1">Stack Overflow</a></li>
                    <li><a href="https://twitter.com/codeceptjs">Twitter</a></li>
                    <li><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=top_2&utm_term=link&utm_campaign=reference">Enterprise Support</a></li>
                </ul>
            </li>

            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">

                    <li class="dropdown promo">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                Services  <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=top_2&utm_term=link&utm_campaign=reference">Consulting &raquo;</a></li>
                                <li><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&utm_medium=top_menu&utm_term=link&utm_campaign=reference">Trainings &raquo;</a></li>
                                <li><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=top_1&utm_term=link&utm_campaign=reference">Test Automation &raquo;</a></li>
                            </ul>
                        </li>



                <li >
                    <a rel="prev" href="../puppeteer/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/codeception/codeceptjs/">
                        
                            <img src="/images/github.png" style="height: 1.2em;" alt="">
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
        <div class="banner" style="background: #eed070;">
  <strong>CodeceptJS 1.4 released</strong>. What's new:
  <a href="https://codecept.io/reports/#allure">Allure Reporter support</a>
   |
  <a href="https://codecept.io/plugins/#stepbystepreport">Step-by-step reports</a>
  |
  <a href="https://codecept.io/hooks/#plugins">Plugins API</a>
  |
  <a href="https://codecept.io/changelog#140">Full changelog »</a>
</div>


        

        <div class="reference">
            <div class="well col-md-3"><div class="bs-sidebar hidden-print" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#page-object">Page Object</a></li>
        
            <li><a href="#actor">Actor</a></li>
        
            <li><a href="#pageobject">PageObject</a></li>
        
            <li><a href="#page-fragments">Page Fragments</a></li>
        
            <li><a href="#stepobjects">StepObjects</a></li>
        
            <li><a href="#dependency-injection">Dependency Injection</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-7" role="main">

<h1 id="page-object">Page Object</h1>
<p>UI of your web application has interaction areas which can be shared across different tests.
To avoid code duplication you can put common locators and methods into one place.</p>
<h2 id="actor">Actor</h2>
<p>At initialization you were asked to create custom steps file. If you accepted this option you may use <code>custom_steps.js</code> file to extend <code>I</code>. See how <code>login</code> method can be added to <code>I</code>:</p>
<pre><code class="js">module.exports = function() {
  return actor({

    login: function(email, password) {
      this.fillField('Email', email);
      this.fillField('Password', password);
      this.click('Submit');
    }
  });
}
</code></pre>

<p>Please notice that instead of <code>I</code> you should use <code>this</code> in current context.</p>
<h2 id="pageobject">PageObject</h2>
<p>In case an application has different pages (login, admin, etc) you should use a page object.
CodeceptJS can generate a template for it with the command:</p>
<pre><code class="sh">codeceptjs gpo
</code></pre>

<p>This will create a sample template for a page object and include it into <code>codecept.json</code> config.</p>
<pre><code class="js">const I = actor();

module.exports = {

  // insert your locators and methods here
}
</code></pre>

<p>As you see, <code>I</code> object is available there so you can use it as you do in tests.
General page object for a login page may look like this:</p>
<pre><code class="js">const I = actor();

module.exports = {

  // setting locators
  fields: {
    email: '#user_basic_email',
    password: '#user_basic_password'
  },
  submitButton: {css: '#new_user_basic input[type=submit]'},

  // introducing methods
  sendForm(email, password) {
    I.fillField(this.fields.email, email);
    I.fillField(this.fields.password, password);
    I.click(this.submitButton);
  }
}
</code></pre>

<p>You can include this pageobject in test by its name (defined in <code>codecept.json</code>). In case you created a <code>loginPage</code> object
it should be added to list of test arguments to be included in test:</p>
<pre><code class="js">Scenario('login', (I, loginPage) =&gt; {
  loginPage.sendForm('john@doe.com','123456');
  I.see('Hello, John');
});
</code></pre>

<p>Also you can use <code>async/await</code> inside PageObject:</p>
<pre><code class="js">const I = actor();

module.exports = {

  // setting locators
  container: &quot;//div[@class = 'numbers']&quot;,
  mainItem: {
    number: &quot;.//div[contains(@class, 'numbers__main-number')]&quot;,
    title: &quot;.//div[contains(@class, 'numbers__main-title-block')]&quot;
  },

  // introducing methods
  openMainArticle: async () =&gt; {
    I.waitForVisible(this.container)
    let _this = this
    let title;
    await within(this.container, async () =&gt; {
      title = await I.grabTextFrom(_this.mainItem.number);
      let subtitle = await I.grabTextFrom(_this.mainItem.title);
      title = title + &quot; &quot; + subtitle.charAt(0).toLowerCase() + subtitle.slice(1);
      await I.click(_this.mainItem.title)
    })
    return title;
  }
}
</code></pre>

<p>and use them in your tests:</p>
<pre><code class="js">Scenario('login2', async (I, loginPage, basePage) =&gt; {
  let title = await mainPage.openMainArticle()
  basePage.pageShouldBeOpened(title)
});
</code></pre>

<h2 id="page-fragments">Page Fragments</h2>
<p>In a similar manner CodeceptJS allows you to generate <strong>PageFragments</strong> and any other are abstraction
by running <code>go</code> command with <code>--type</code> (or <code>-t</code>) option:</p>
<pre><code class="sh">codeceptjs go --type fragment
</code></pre>

<p>Page Fragments represent autonomous parts of a page, like modal boxes, components, widgets.
Technically they are the same as PageObject but conceptually they are a bit different.
For instance, it is recommended that Page Fragment to include a root locator of a component.
Methods of page fragment can use <code>within</code> block to narrow scope to a root locator:</p>
<pre><code class="js">const I = actor();
// fragments/modal.js
module.exports = {

  root: '#modal',

  // we are clicking &quot;Accept: inside a popup window
  accept() {
    within(this.root, function() {
      I.click('Accept');
    });
  }
}
</code></pre>

<p>To use a Page Fragment within a Test Scenario just inject it into your Scenario:</p>
<pre><code class="js">Scenario('failed_login', async (I, loginPage, modal) =&gt; {
  loginPage.sendForm('john@doe.com','wrong password');
  I.waitForVisible(modal.root);
  within(modal.root, function () {
    I.see('Login failed');
  })
});
</code></pre>

<p>To use a Page Fragment within a Page Object, you need to <code>require</code> it on top of the Page Object file:</p>
<pre><code class="js">const I = actor();
const modal = require('../fragments/modal');

module.exports = { 
  doStuff() {
    ...
    modal.accept();
    ...
  }
}

</code></pre>

<h2 id="stepobjects">StepObjects</h2>
<p>StepObjects represent complex actions which involve usage of multiple web pages. For instance, creating users in backend, changing permissions, etc.
StepObject can be created similarly to PageObjects or PageFragments:</p>
<pre><code class="sh">codeceptjs go --type step
</code></pre>

<p>Technically they are the same as PageObjects. StepObjects can inject PageObjects and use multiple POs to make a complex scenarios:</p>
<pre><code class="js">const I = actor();
const userPage = require('../pages/user');
const permissionPage = require('../pages/permissions');

module.exports = {

  createUser(name) {
    // action composed from actions of page objects
    userPage.open();
    userPage.create(name);
    permissionPage.activate(name);
  }

};
</code></pre>

<h2 id="dependency-injection">Dependency Injection</h2>
<h3 id="configuration">Configuration</h3>
<p>All objects described here are injected with Dependency Injection. The similar way it happens in AngularJS framework.
If you want an object to be injected in scenario by its name add it to configuration:</p>
<pre><code class="js">  &quot;include&quot;: {
    &quot;I&quot;: &quot;./custom_steps.js&quot;,
    &quot;Smth&quot;: &quot;./pages/Smth.js&quot;,
    &quot;loginPage&quot;: &quot;./pages/Login.js&quot;,
    &quot;signinFragment&quot;: &quot;./fragments/Signin.js&quot;
  }
</code></pre>

<p>Now this objects can be retrieved by the name specified in configuration.
CodeceptJS generator commands (like <code>codeceptjs gpo</code>) will update configuration for you.</p>
<h3 id="dynamic-injection">Dynamic Injection</h3>
<p>You can inject objects per test by calling <code>injectDependencies</code> function on Scenario:</p>
<pre><code class="js">Scenario('search @grop', (I, Data) =&gt; {
  I.fillField('Username', Data.username);
  I.pressKey('Enter');
}).injectDependencies({ Data: require('./data.js') });
</code></pre>

<p>This requires <code>./data.js</code> module and assigns it to <code>Data</code> argument in a test.</p>
<h3 id="done">done()</h3></div>
            <div class="col-md-2" class="promo-1">
    <div class="promo-banner"  >
                <h3>
                    Enterprise Support
                </h3>

                <p>We help you to develop efficient end to end tests
                    <a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=right&utm_term=link&utm_campaign=reference">Learn More &raquo;</a>
                </p>
    </div>

</div>
            <div class="clearfix"></div>
        </div>
        

     <footer>
        <div class="container">
          <div class="row">
            <div class="col-md-4">
                <h5>Support:</h5>
                <ul>
                    <li><a href="https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LTNiMTE5YzNlMjQyNWYwZjAzODE3ZTI1MmVkYjY0YTYyNDZmMWJjM2VlODg3NTQzYzM2OGE5ZmIwODFjODk1MzI">Slack Channel</a></li>
                    <li><a href="https://stackoverflow.com/questions/tagged/codeceptjs?mixed=1">Stack Overflow</a></li>
                    <li><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=bottom&utm_term=link&utm_campaign=reference">Commercial Support</a></li>
                </ul>

            </div>

<div class="col-md-4">
          <ul class="imglist">
                    <li class="github"><a href="https://github.com/codeception/codeceptjs"><img src="/images/github.png" alt="GitHub">Codeception/CodeceptJS</a></li>
                    <li class="twitter">
                        <a  href="https://twitter.com/codeceptjs">
                            <img src="/images/twitter.png" alt="">@CodeceptJS
                        </a>
                    </li>
                    </ul>

</div>

            <div class="col-md-4">




                <h4>Our Contributors</h4>
                <div id="contributors"></div>
            </div>

        </div>


        <center>Created by <strong>CodeceptJS Team</strong></center>

</div>

    </footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>

    </body>
</html>